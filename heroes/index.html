<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HERO BUILDER</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts: Poppins -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Google Material Symbols -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

    <!-- Link Data Files FIRST -->
    <script src="data-names.js"></script>
    <script src="data-attributes.js"></script>
    <script src="data-powers.js"></script>
    <script src="data-skills.js"></script>
    <script src="data-equipment.js"></script>
    <script src="data-background.js"></script>

    <!-- Link Main Stylesheet (Optional - or keep styles inline) -->
    <!-- <link rel="stylesheet" href="style.css"> -->

    <style>
        /* --- Paste all the CSS rules from the previous <style> block here --- */
        :root {
            --bg-primary: #121212;
            --bg-secondary: #1e1e1e;
            --bg-tertiary: #2a2a2a;
            --bg-history-hover: #333333;
            --text-primary: #e0e0e0;
            --text-secondary: #a0a0a0;
            --text-tertiary: #707070;
            --accent: #ffffff;
            --accent-hover: #cccccc;
            --border-color: rgba(255, 255, 255, 0.1);
            --star-filled: #ffd700;
            --star-empty: #444444;
            --color-good: #81c784;
            --color-neutral: #9e9e9e;
            --color-evil: #e57373;
            --color-drawback: #ff8a8a;
            --scrollbar-thumb: var(--bg-tertiary);
            --scrollbar-track: var(--bg-secondary);
        }

        html { scroll-behavior: smooth; }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            padding-bottom: 80px; /* Space for sticky footer */
            overflow-x: hidden;
        }

        .main-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            padding: 1.5rem;
            flex-grow: 1;
        }

        /* History Section */
        .history-section {
            background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 12px;
            padding: 0.75rem 1rem; margin-bottom: 1.5rem; width: 100%; max-width: 60rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }
        .history-header {
            font-size: 0.9rem; font-weight: 600; color: var(--text-secondary); margin-bottom: 0.5rem;
            display: flex; align-items: center; gap: 0.4rem; text-transform: uppercase; letter-spacing: 0.5px;
        }
        .history-list { display: flex; gap: 0.75rem; flex-wrap: wrap; }
        .history-item {
            background: var(--bg-tertiary); color: var(--text-primary); padding: 0.3rem 0.8rem; border-radius: 20px;
            font-size: 0.8rem; cursor: pointer; transition: background-color 0.2s ease, color 0.2s ease;
            border: 1px solid transparent; white-space: nowrap;
        }
        .history-item:hover { background-color: var(--bg-history-hover); border-color: rgba(255, 255, 255, 0.15); color: var(--accent); }
        .history-item.active { background-color: var(--accent); color: var(--bg-primary); font-weight: 500; border-color: var(--accent); }

        /* Character Sheet Layout */
        .character-sheet {
            background: var(--bg-secondary); border-radius: 16px; border: 1px solid var(--border-color);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4); transition: opacity 0.4s ease, transform 0.4s ease;
            opacity: 0; transform: translateY(15px); width: 100%; max-width: 60rem;
            padding: 1.5rem; display: grid; grid-template-columns: repeat(1, 1fr); gap: 1.5rem;
        }
        @media (min-width: 768px) { .character-sheet { grid-template-columns: repeat(3, 1fr); padding: 2rem; } }
        .character-sheet.visible { opacity: 1; transform: translateY(0); }

        /* Column Styling */
        .sheet-column { display: flex; flex-direction: column; gap: 1.5rem; }

        /* Section Headers */
        .section-header {
            font-size: 1.1rem; font-weight: 600; margin-bottom: 0.8rem; padding-bottom: 0.4rem;
            border-bottom: 1px solid var(--border-color); display: flex; align-items: center;
            gap: 0.5rem; color: var(--accent); text-transform: uppercase; letter-spacing: 0.5px;
        }
        .section-header .material-symbols-outlined { font-size: 1.3rem; }

        /* Stat Display */
        .stats-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 0.75rem; }
        .stat-block {
            background: var(--bg-tertiary); border-radius: 8px; padding: 0.6rem; text-align: center;
            transition: transform 0.2s ease, background-color 0.2s ease; border: 1px solid transparent; position: relative;
        }
        .stat-block:hover { transform: translateY(-2px); background-color: #333; border-color: rgba(255, 255, 255, 0.2); }
        .stat-value { font-size: 1.5rem; font-weight: 700; line-height: 1; color: var(--accent); }
        .stat-modifier { font-size: 0.8rem; font-weight: 500; color: var(--text-secondary); }
        .stat-label { font-size: 0.7rem; font-weight: 500; color: var(--text-tertiary); margin-top: 0.2rem; text-transform: uppercase; letter-spacing: 0.8px; cursor: help; }

        /* Tooltip */
        .tooltip {
            visibility: hidden; width: 120px; background-color: #111; color: var(--text-primary); text-align: center;
            border-radius: 6px; padding: 5px 7px; position: absolute; z-index: 10; bottom: 110%; left: 50%;
            margin-left: -60px; opacity: 0; transition: opacity 0.3s ease, visibility 0.3s ease; font-size: 0.7rem;
            font-weight: 400; box-shadow: 0 2px 5px rgba(0,0,0,0.5); border: 1px solid var(--border-color); pointer-events: none;
        }
        .stat-block:hover .tooltip { visibility: visible; opacity: 1; }
        .tooltip::after { content: ""; position: absolute; top: 100%; left: 50%; margin-left: -5px; border-width: 5px; border-style: solid; border-color: #111 transparent transparent transparent; }

        /* List Sections (Powers, Skills, Equip) */
        .list-section ul { max-height: 180px; overflow-y: auto; padding-right: 0.5rem; }
        .list-section ul::-webkit-scrollbar { width: 5px; }
        .list-section ul::-webkit-scrollbar-track { background: rgba(255, 255, 255, 0.05); border-radius: 10px; }
        .list-section ul::-webkit-scrollbar-thumb { background: var(--scrollbar-thumb); border-radius: 10px; border: 1px solid var(--border-color); }
        .list-section ul::-webkit-scrollbar-thumb:hover { background: #444; }

        .list-item {
            background: var(--bg-tertiary); padding: 0.6rem 1rem; border-radius: 6px; margin-bottom: 0.5rem;
            display: flex; align-items: center; gap: 0.7rem; transition: background-color 0.2s ease;
            border: 1px solid transparent; font-size: 0.85rem;
        }
        .list-item:hover { background-color: #333; border-color: rgba(255, 255, 255, 0.15); }
        .list-item .material-symbols-outlined { color: var(--text-secondary); font-size: 1.2rem; flex-shrink: 0; }
        .list-item.drawback { color: var(--color-drawback); }
        .list-item.drawback .material-symbols-outlined { color: var(--color-drawback); }
        .list-item span:last-child { word-break: break-word; line-height: 1.3; }


        /* Details Lists (Appearance, Status, Background) */
        .details-list p { font-size: 0.85rem; margin-bottom: 0.4rem; display: flex; justify-content: space-between; align-items: baseline; gap: 0.5rem;}
        .details-list strong { color: var(--text-tertiary); font-weight: 500; flex-shrink: 0; }
        .details-list span:not(.color-swatch):not(.material-symbols-outlined):not(.fame-stars) { text-align: right; color: var(--text-primary); word-break: break-word; }
        .details-list .fame-stars { display: inline-block; }

        /* Color Palette & Skin Color Display */
        .color-swatch { width: 16px; height: 16px; border-radius: 50%; border: 1px solid rgba(255, 255, 255, 0.3); display: inline-block; margin-left: 0.3rem; vertical-align: middle; }
        #skinColorDisplay { margin-left: 5px; }
        #colorPalette { display: inline-flex; align-items: center; flex-wrap: wrap; justify-content: flex-end; }

        /* Fame Stars */
        .fame-stars .material-symbols-outlined { font-size: 1.1rem; vertical-align: middle; margin-right: 1px; }
        .fame-stars .filled { color: var(--star-filled); }
        .fame-stars .empty { color: var(--star-empty); }

        /* Sticky Footer for Buttons */
        .sticky-footer {
            position: sticky; bottom: 0; left: 0; width: 100%;
            background: linear-gradient(to top, rgba(18, 18, 18, 1) 50%, rgba(18, 18, 18, 0));
            padding: 1rem 0; display: flex; justify-content: center; gap: 1rem; z-index: 50; margin-top: auto;
        }
        .action-button {
            background: var(--bg-tertiary); color: var(--text-primary); padding: 0.7rem 1.6rem; border: 1px solid var(--border-color);
            border-radius: 50px; font-size: 0.95rem; font-weight: 500; cursor: pointer; transition: all 0.2s ease;
            display: inline-flex; align-items: center; gap: 0.5rem; box-shadow: 0 3px 10px rgba(0, 0, 0, 0.3); margin-top: 0;
        }
        .action-button:hover { background: #333; border-color: var(--accent-hover); color: var(--accent); transform: translateY(-2px); box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4); }
        .action-button:active { transform: translateY(0px); box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); }
        .action-button .material-symbols-outlined { font-size: 1.2rem; }
        .action-button:disabled { opacity: 0.5; cursor: not-allowed; transform: none; box-shadow: none; background: var(--bg-tertiary); color: var(--text-secondary); border-color: var(--border-color); }

        /* Utility & Color Coding Classes */
        .text-subtle { color: var(--text-secondary); }
        .text-very-subtle { color: var(--text-tertiary); }
        .text-good { color: var(--color-good); font-weight: 500; }
        .text-neutral { color: var(--color-neutral); font-weight: 500; }
        .text-evil { color: var(--color-evil); font-weight: 500; }

        /* Responsive adjustments */
        @media (max-width: 767px) { /* Small screens */
            body { padding-bottom: 100px; }
            .character-sheet { padding: 1rem; gap: 1rem; }
            .stats-grid { grid-template-columns: repeat(3, 1fr); }
            .sticky-footer { flex-direction: column; align-items: center; gap: 0.5rem; padding: 0.75rem 0; }
            .action-button { width: 80%; justify-content: center; }
            .history-list { gap: 0.5rem; }
            .history-item { padding: 0.2rem 0.6rem; font-size: 0.75rem; }
            .list-section ul { max-height: 150px; }
        }
         @media (max-width: 480px) {
            .stats-grid { grid-template-columns: repeat(2, 1fr); }
            h1 { font-size: 1.8rem; }
            .section-header { font-size: 1rem; }
            .action-button { width: 90%; }
         }
        /* --- End CSS --- */
    </style>
</head>
<body class="antialiased">

    <div class="main-container">
        <header class="text-center mb-4">
            <h1 class="text-3xl md:text-4xl font-bold text-white uppercase tracking-wider">Hero Builder</h1>
            <!-- Subheading removed -->
        </header>

        <!-- History Section -->
        <div id="historySection" class="history-section hidden">
            <div class="history-header">
                <span class="material-symbols-outlined">history</span> Recent Generations
            </div>
            <div id="historyList" class="history-list"></div>
        </div>

        <!-- Character Sheet Area -->
        <div id="characterSheet" class="character-sheet">
            <!-- Placeholder or Content -->
            <div class="text-center text-xl text-subtle italic py-10 md:col-span-3" id="placeholderText">
                Click the button below to forge your hero...
            </div>
            <!-- Character content will be dynamically added here by script.js -->
        </div>
    </div>

    <!-- Sticky Footer for Buttons -->
    <div class="sticky-footer">
        <button id="generateButton" class="action-button">
            <span class="material-symbols-outlined">auto_awesome</span>
            Forge Hero
        </button>
        <button id="copyButton" class="action-button" disabled>
             <span class="material-symbols-outlined">content_copy</span>
            Copy Sheet
        </button>
    </div>

    <!-- Link Main Logic Script LAST -->
    <script src="script.js"></script>

</body>
</html>